<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Lab_2: adc_config.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lab_2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">adc_config.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of the functionality required for Lab 2.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="stm32f4xx_8h_source.html">stm32f4xx.h</a>&quot;</code><br/>
<code>#include &quot;stm32f4xx_conf.h&quot;</code><br/>
</div>
<p><a href="adc__config_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af6b067c050c1c1c62ab1db69015c5f93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adc__config_8h.html#af6b067c050c1c1c62ab1db69015c5f93">ADC_Configuration</a> (ADC_CommonInitTypeDef *ADC_Common_InitStructure, ADC_InitTypeDef *ADC_InitStructure)</td></tr>
<tr class="memdesc:af6b067c050c1c1c62ab1db69015c5f93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and initializes ADC1.  <a href="#af6b067c050c1c1c62ab1db69015c5f93">More...</a><br/></td></tr>
<tr class="separator:af6b067c050c1c1c62ab1db69015c5f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade14a92b15c58e63b0ef1475c3b99e24"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adc__config_8h.html#ade14a92b15c58e63b0ef1475c3b99e24">read_Temp</a> (void)</td></tr>
<tr class="memdesc:ade14a92b15c58e63b0ef1475c3b99e24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the conversion from ADC1 and converts to a temperature in degrees C.  <a href="#ade14a92b15c58e63b0ef1475c3b99e24">More...</a><br/></td></tr>
<tr class="separator:ade14a92b15c58e63b0ef1475c3b99e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the functionality required for Lab 2. </p>
<dl class="section author"><dt>Author</dt><dd>Ben Swearingen <a href="#" onclick="location.href='mai'+'lto:'+'ben'+'ja'+'min'+'.s'+'wea'+'ri'+'nge'+'n@'+'mai'+'l.'+'mcg'+'il'+'l.c'+'a'; return false;">benja<span style="display: none;">.nosp@m.</span>min.<span style="display: none;">.nosp@m.</span>swear<span style="display: none;">.nosp@m.</span>inge<span style="display: none;">.nosp@m.</span>n@mai<span style="display: none;">.nosp@m.</span>l.mc<span style="display: none;">.nosp@m.</span>gill.<span style="display: none;">.nosp@m.</span>ca</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>This project reads in values from the temperature sensor, converts them with an ADC, and rotates an LED accordingly. It also has the ability to pulse the LED's using a software implementation of pulse width modulation. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af6b067c050c1c1c62ab1db69015c5f93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADC_Configuration </td>
          <td>(</td>
          <td class="paramtype">ADC_CommonInitTypeDef *&#160;</td>
          <td class="paramname"><em>ADC_Common_InitStructure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ADC_InitTypeDef *&#160;</td>
          <td class="paramname"><em>ADC_InitStructure</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and initializes ADC1. </p>
<dl class="section note"><dt>Note</dt><dd>First initializes the clock to ADC1. Then resets all ADC's to ensure that they're in a known state. Then sets ADC1 to be independent, sets the frequency of the clock to 131,027, disables DMA, sets the sampling delay to 5 cycles, and then initializes the structure. ADC_InitStructure is then configured. The resolution is set to 12 bits, ScanConvMode and ContinuousConvMode are disabled, the external trigger is disabled, data is aligned right, and the number of conversions is set to 1. The ADC is then initialized, the temperature sensor is enabled, and ADC1 is enabled.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*ADC_Common_InitStructure</td><td>An ADC_CommonInitTypeDef structure to be configured for ADC1. </td></tr>
    <tr><td class="paramname">*ADC_InitStructure</td><td>An ADC_InitTypeDef structure to be configured for ADC1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ade14a92b15c58e63b0ef1475c3b99e24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float read_Temp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the conversion from ADC1 and converts to a temperature in degrees C. </p>
<dl class="section note"><dt>Note</dt><dd>Sets up the channel that the conversion is going to occur on. It is going to occure on ADC1, on the channel that contains the TempSensor, for 480 cycles. As there are no other ADCs active, it has rank 1 in the sequencer. The conversion is then started, and runs until the End Of Conversation(EOC) flag is set to something other than RESET. After the conversion is done, the flags are reset and the value is read from the ADC. It is then divided by 2^12-1 and multiplied by 3V so that it is a voltage that represents the temperature. It is then run through the formula from the data sheets that converts it into the correct(ish) temperature.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The current temperature value. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 18 2013 14:10:39 for Lab_2 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
