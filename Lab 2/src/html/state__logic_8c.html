<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Lab_2: state_logic.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lab_2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">state_logic.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of the state logic functionality.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="stm32f4xx_8h_source.html">stm32f4xx.h</a>&quot;</code><br/>
<code>#include &quot;stm32f4xx_conf.h&quot;</code><br/>
<code>#include &quot;state_logic.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="led__control_8h_source.html">led_control.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab2adc914b582216030744b4bb58c4079"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__logic_8c.html#ab2adc914b582216030744b4bb58c4079">Button_State</a> (int pin, BUTTON *button_state, SYSTEM *system_state, <a class="el" href="led__control_8h.html#aadcb6002d2b42fdfe01490f730ab00a6">LED</a> *led_state)</td></tr>
<tr class="memdesc:ab2adc914b582216030744b4bb58c4079"><td class="mdescLeft">&#160;</td><td class="mdescRight">State logic for updating the system and button states.  <a href="#ab2adc914b582216030744b4bb58c4079">More...</a><br/></td></tr>
<tr class="separator:ab2adc914b582216030744b4bb58c4079"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa530aff4c01ac82a892008755f9c3d2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa530aff4c01ac82a892008755f9c3d2c"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>led_strength</b></td></tr>
<tr class="separator:aa530aff4c01ac82a892008755f9c3d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a812fc3951a4aea6bf9b3b9f2d725ca8b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a812fc3951a4aea6bf9b3b9f2d725ca8b"></a>
const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>FREQ</b></td></tr>
<tr class="separator:a812fc3951a4aea6bf9b3b9f2d725ca8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the state logic functionality. </p>
<dl class="section author"><dt>Author</dt><dd>Ben Swearingen <a href="#" onclick="location.href='mai'+'lto:'+'ben'+'ja'+'min'+'.s'+'wea'+'ri'+'nge'+'n@'+'mai'+'l.'+'mcg'+'il'+'l.c'+'a'; return false;">benja<span style="display: none;">.nosp@m.</span>min.<span style="display: none;">.nosp@m.</span>swear<span style="display: none;">.nosp@m.</span>inge<span style="display: none;">.nosp@m.</span>n@mai<span style="display: none;">.nosp@m.</span>l.mc<span style="display: none;">.nosp@m.</span>gill.<span style="display: none;">.nosp@m.</span>ca</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab2adc914b582216030744b4bb58c4079"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Button_State </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BUTTON *&#160;</td>
          <td class="paramname"><em>button_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SYSTEM *&#160;</td>
          <td class="paramname"><em>system_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="led__control_8h.html#aadcb6002d2b42fdfe01490f730ab00a6">LED</a> *&#160;</td>
          <td class="paramname"><em>led_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State logic for updating the system and button states. </p>
<dl class="section note"><dt>Note</dt><dd>This implements a basic FSM for updating the button and system states. The system can either be in read_temp mode or PWM mode. The button can either be in On, Off, or On/Off_in_run mode. The In_Run states are necessary because the button generates a string of 1's when pressed. Having these two states avoids repeated 1's triggering system state changes. When the state is from Read_Temp, the SysTick clock is sped up for PWM, and all the LEDs are turned off. When the state is changed from PWM, the SysTick clock is reset, and the proper LED is light for the current LED state. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 18 2013 14:24:36 for Lab_2 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
