<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>My Project: src/ACCEL.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ACCEL.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_a_c_c_e_l_8h_source.html">ACCEL.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="stm32f4__discovery__lis302dl_8h_source.html">stm32f4_discovery_lis302dl.h</a>&quot;</code><br/>
<code>#include &quot;filter.h&quot;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &quot;cmsis_os.h&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a20a2762205bad4f013cfb770dfa03380"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_c_c_e_l_8c.html#a20a2762205bad4f013cfb770dfa03380">Interrupt_Config</a> (void)</td></tr>
<tr class="memdesc:a20a2762205bad4f013cfb770dfa03380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the accelerometer tap interrupt.  <a href="#a20a2762205bad4f013cfb770dfa03380">More...</a><br/></td></tr>
<tr class="separator:a20a2762205bad4f013cfb770dfa03380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a088d0dba5f2deb7c87f4e94f9576e7d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_c_c_e_l_8c.html#a088d0dba5f2deb7c87f4e94f9576e7d2">ACCEL_Config</a> (void)</td></tr>
<tr class="memdesc:a088d0dba5f2deb7c87f4e94f9576e7d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and initializes the accelerometer.  <a href="#a088d0dba5f2deb7c87f4e94f9576e7d2">More...</a><br/></td></tr>
<tr class="separator:a088d0dba5f2deb7c87f4e94f9576e7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f65b7dca37c2ac5761f5c357ed599f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3f65b7dca37c2ac5761f5c357ed599f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_c_c_e_l_8c.html#af3f65b7dca37c2ac5761f5c357ed599f">Clear_Accel_Int</a> (void)</td></tr>
<tr class="memdesc:af3f65b7dca37c2ac5761f5c357ed599f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads from LIS302DL_CLICK_SRC_REG_ADDR to unlatch the interrupt. <br/></td></tr>
<tr class="separator:af3f65b7dca37c2ac5761f5c357ed599f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43eddb791f1ac29ec7c8407204dfade1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structangle__data.html">angle_data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_c_c_e_l_8c.html#a43eddb791f1ac29ec7c8407204dfade1">read_Accelerometer</a> (void)</td></tr>
<tr class="memdesc:a43eddb791f1ac29ec7c8407204dfade1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The EXTI_Line0 interrupt handler.  <a href="#a43eddb791f1ac29ec7c8407204dfade1">More...</a><br/></td></tr>
<tr class="separator:a43eddb791f1ac29ec7c8407204dfade1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af2579af7e40a98a905eb954796c3b756"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2579af7e40a98a905eb954796c3b756"></a>
<a class="el" href="struct_lowpass___filter.html">Lowpass_Filter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Filter_Structure_X</b></td></tr>
<tr class="separator:af2579af7e40a98a905eb954796c3b756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f9bba8f38e633ac9a19ffe6f9429e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20f9bba8f38e633ac9a19ffe6f9429e3"></a>
<a class="el" href="struct_lowpass___filter.html">Lowpass_Filter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Filter_Structure_Y</b></td></tr>
<tr class="separator:a20f9bba8f38e633ac9a19ffe6f9429e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af251b824def5a07f1e79882d2ce50e75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af251b824def5a07f1e79882d2ce50e75"></a>
<a class="el" href="struct_lowpass___filter.html">Lowpass_Filter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Filter_Structure_Z</b></td></tr>
<tr class="separator:af251b824def5a07f1e79882d2ce50e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Ben Swearingen <a href="#" onclick="location.href='mai'+'lto:'+'ben'+'ja'+'min'+'.s'+'wea'+'ri'+'nge'+'n@'+'mai'+'l.'+'mcg'+'il'+'l.c'+'a'; return false;">benja<span style="display: none;">.nosp@m.</span>min.<span style="display: none;">.nosp@m.</span>swear<span style="display: none;">.nosp@m.</span>inge<span style="display: none;">.nosp@m.</span>n@mai<span style="display: none;">.nosp@m.</span>l.mc<span style="display: none;">.nosp@m.</span>gill.<span style="display: none;">.nosp@m.</span>ca</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a088d0dba5f2deb7c87f4e94f9576e7d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ACCEL_Config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and initializes the accelerometer. </p>
<dl class="section note"><dt>Note</dt><dd>This method configures and initializes the accelerometer. Power mode is set to active, data rate to 100, all axes are enabled, full scale is set to 2_3, and self test is set to normal. </dd></dl>

</div>
</div>
<a class="anchor" id="a20a2762205bad4f013cfb770dfa03380"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interrupt_Config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the accelerometer tap interrupt. </p>
<dl class="section note"><dt>Note</dt><dd>Configures the external interrupt and NVIC so that the accelerometer acts as an external interrupt. NVIC configuration is similar to the same process in timers.c. The external interrupt is configured to happen on Line0. </dd></dl>

</div>
</div>
<a class="anchor" id="a43eddb791f1ac29ec7c8407204dfade1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structangle__data.html">angle_data</a> read_Accelerometer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The EXTI_Line0 interrupt handler. </p>
<dl class="section note"><dt>Note</dt><dd>The interrupt handler checks whether tap is greater than 0. If it is, the value remains the same. If it is not, then tap is set to 13. Combined with the logic in main.c and a 25Hz clock, this creates a timeout of about half a second during which additional taps are not detected. Reads data from the accelerometer and returns an <a class="el" href="structaccel__data.html">accel_data</a>.</dd>
<dd>
Reads data from the accelerometer and returns three signed integers contained within an <a class="el" href="structaccel__data.html">accel_data</a> packet. It starts reading at address 0x29, which corresponds to Out_X, and reads the next five registers that represent the three axes. The results must be casted to a signed integer, and then multiplied by 18 as each LSB represents 18mgs.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the pitch and roll in degrees. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 29 2013 16:34:47 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
